---
id: 011
title: Use OAuth 2.0 for Service Authentication
tags: [architecture, database, api]
createdAt: 2026-02-23T06:40:07.822Z
---

# ADR-011: Use OAuth 2.0 for Service Authentication

Status: Proposed
Scope: Domain



## Context
Our microservices architecture has grown to include 47 independent services, each requiring authentication and authorization. The current approach uses API keys stored in configuration files, which presents several challenges:

Services are unable to verify the identity of calling services beyond possession of a static key. This makes it difficult to implement fine-grained access controls or audit trails. The API keys don't expire automatically, requiring manual rotation processes that are often neglected.

When a service is compromised, we must invalidate all keys and redistribute new ones to all dependent services, causing system-wide disruption. There's no standardized way to delegate permissions or implement temporary access grants.


## Decision

We will implement OAuth 2.0 using the Client Credentials flow for service-to-service authentication across our microservices architecture.

Each service will be registered as a client application with our centralized authorization server. Services will obtain short-lived access tokens (15-minute expiry) by presenting their client credentials. All inter-service API calls must include a valid access token in the Authorization header.

We selected OAuth 2.0 over alternatives like mutual TLS because it provides better tooling support, familiar developer experience, and simpler certificate management. The Client Credentials flow is specifically designed for machine-to-machine authentication without user context.



## Consequences
Positive: We gain centralized authentication and authorization management through the authorization server. Token expiration provides automatic credential rotation without manual intervention. We can implement detailed audit logs showing which service accessed which resource and when. Fine-grained access control becomes possible through scope-based permissions.

Negative: The authorization server becomes a critical dependency and potential single point of failure. We must implement caching and graceful degradation to handle authorization server outages. Initial migration effort is significant, requiring updates to all 47 services. Developers need to understand OAuth 2.0 concepts and flows.

Services will experience a slight latency increase due to token validation on each request, though this can be mitigated through local caching and validation.

<!-- COMMENTS -->
{
  "comments": [
    {
      "id": "634c4ae2-c67c-478a-ae15-90f41265f8d9",
      "block": "context",
      "start": 115,
      "end": 134,
      "text": "add it good and improve as well as good and bad",
      "resolved": true,
      "replies": [],
      "githubUrl": "https://github.com/Sivasankar-1307/adr-repo/pull/11#issuecomment-3942968381"
    },
    {
      "id": "e6939c51-ff0e-4aae-ac4c-4245476bddd4",
      "block": "context",
      "start": 25,
      "end": 38,
      "text": "mark it good",
      "resolved": false,
      "replies": [],
      "githubUrl": "https://github.com/Sivasankar-1307/adr-repo/pull/11#issuecomment-3943051603"
    },
    {
      "id": "ed44b5e5-96dd-4179-8d35-cad6c29648f3",
      "block": "context",
      "start": 252,
      "end": 272,
      "text": "adr ",
      "resolved": false,
      "replies": [],
      "githubUrl": "https://github.com/Sivasankar-1307/adr-repo/pull/11#issuecomment-3943066577"
    }
  ]
}
-->